<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: Nanoc3::Helpers::Text</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo; 
    <span class='title'><a href="../../Nanoc3.html" title="Nanoc3 (module)">Nanoc3</a></span> &raquo; <span class='title'><a href="../Helpers.html" title="Nanoc3::Helpers (module)">Helpers</a></span>
     &raquo; 
    <span class="title">Text</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Nanoc3::Helpers::Text 
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/nanoc3/helpers/text.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Contains several useful text-related helper functions.</p>

  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>Instance Method Summary</h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#excerptize-instance_method" title="#excerptize (instance method)">- (String) <strong>excerptize</strong>(string, params = {}) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns an excerpt for the given string.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip_html-instance_method" title="#strip_html (instance method)">- (String) <strong>strip_html</strong>(string) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Strips all HTML tags out of the given string.</p></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="excerptize-instance_method">
  
    - (<tt><a href="../../String.html" title="String (class)">String</a></tt>) <strong>excerptize</strong>(string, params = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns an excerpt for the given string. HTML tags are ignored, so if
you don't want them to turn up, they should be stripped from the string
before passing it to the excerpt function.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
      
      
        <span class='name'>string</span>
      
      
      
        &mdash;
        <div class='inline'><p>The string for which to build an excerpt</p></div>
      
    </li>
  
</ul>

  
    
    
    
    
    <h3>Options Hash (<tt>params</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="type">(<tt>Number</tt>)</span>
          <span class="name">length</span>
          <span class="default">
            
              &mdash; default:
              <tt>25</tt>
            
          </span>
          &mdash;<div class='inline'><p>The maximum number of characters
this excerpt can contain, including the omission.</p></div>
        </tr>
      
        <li>
          <span class="type">(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
          <span class="name">omission</span>
          <span class="default">
            
              &mdash; default:
              <tt>&quot;...&quot;</tt>
            
          </span>
          &mdash;<div class='inline'><p>The string to append to the
excerpt when the excerpt is shorter than the original string</p></div>
        </tr>
      
    </ul>
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The excerpt of the given string</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc3/helpers/text.rb', line 21</span>

<span class='kw'>def</span> <span class='id excerptize'>excerptize</span><span class='lparen'>(</span><span class='id string'>string</span><span class='comma'>,</span> <span class='id params'>params</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># Initialize params
</span>  <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:length</span><span class='rbracket'>]</span>   <span class='op'>||=</span> <span class='int'>25</span>
  <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:omission</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>...</span><span class='tstring_end'>'</span></span>

  <span class='comment'># Get excerpt
</span>  <span class='id length'>length</span> <span class='op'>=</span> <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:length</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:omission</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id length'>length</span>
  <span class='id length'>length</span> <span class='op'>=</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id length'>length</span> <span class='op'>&lt;</span> <span class='int'>0</span>
  <span class='lparen'>(</span><span class='id string'>string</span><span class='period'>.</span><span class='id length'>length</span> <span class='op'>&gt;</span> <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:length</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id string'>string</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='id length'>length</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id params'>params</span><span class='lbracket'>[</span><span class='symbol'>:omission</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id string'>string</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="strip_html-instance_method">
  
    - (<tt><a href="../../String.html" title="String (class)">String</a></tt>) <strong>strip_html</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Strips all HTML tags out of the given string.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
      
      
        <span class='name'>string</span>
      
      
      
        &mdash;
        <div class='inline'><p>The string from which to strip all HTML</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The given string with all HTML stripped</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc3/helpers/text.rb', line 37</span>

<span class='kw'>def</span> <span class='id strip_html'>strip_html</span><span class='lparen'>(</span><span class='id string'>string</span><span class='rparen'>)</span>
  <span class='comment'># FIXME will need something more sophisticated than this, because it sucks
</span>  <span class='id string'>string</span><span class='period'>.</span><span class='id gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;[^&gt;]*(&gt;+|\s*\z)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id strip'>strip</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sun Mar 28 19:25:40 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.4 (ruby-1.9.1).
</div>

  </body>
</html>