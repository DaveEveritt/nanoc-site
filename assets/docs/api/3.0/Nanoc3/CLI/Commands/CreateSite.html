<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../../style.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../../custom.css" type="text/css" charset="utf-8" />
<link rel="stylesheet" href="../../../syntax_highlight.css" type="text/css" charset="utf-8" />

    <script src="../../../jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../app.js" type="text/javascript" charset="utf-8"></script>
    <title>Class: Nanoc3::CLI::Commands::CreateSite</title>
  </head>
  <body>
    <div id="content">
      <div class="section class Nanoc3_CLI_Commands_CreateSite">
  <h1 class="title">Class: Nanoc3::CLI::Commands::CreateSite</h1>
  <div class="section inheritance">
  <ul>
  <li>Cri::Command</li><ul><li>Nanoc3::CLI::Commands::CreateSite</li>
  </ul></ul>
</div><div class="section constants">
  <div class="thisclass">
  <h1>Constants</h1>
  <dl>
    
      <dt id="DEFAULT_ITEM-constant">DEFAULT_ITEM</dt>
      <dd>&quot;&lt;h1&gt;A Brand New nanoc Site&lt;/h1&gt;\n\n&lt;p&gt;You&amp;#8217;ve just created a new nanoc site. The page you are looking at right now is the home page for your site (and it&amp;#8217;s probably the only page).&lt;/p&gt;\n\n&lt;p&gt;To get started, consider replacing this default homepage with your own customized homepage. Some pointers on how to do so:&lt;/p&gt;\n\n&lt;ul&gt;\n  &lt;li&gt;&lt;p&gt;&lt;strong&gt;Change this page&amp;#8217;s content&lt;/strong&gt; by editing &amp;#8220;content.html&amp;#8221; file in the &amp;#8220;content&amp;#8221; directory. This is the actual page content, and therefore doesn&amp;#8217;t include the header, sidebar or style information (those are part of the layout).&lt;/p&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;p&gt;&lt;strong&gt;Change the layout&lt;/strong&gt;, which is the &amp;#8220;default.txt&amp;#8221; file in the &amp;#8220;layouts/default&amp;#8221; directory, and create something unique (and hopefully less bland).&lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;If you need any help with customizing your nanoc web site, be sure to check out the documentation (see sidebar), and be sure to subscribe to the discussion group (also see sidebar). Enjoy!&lt;/p&gt;\n&quot;</dd>
    
      <dt id="DEFAULT_LAYOUT-constant">DEFAULT_LAYOUT</dt>
      <dd>&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01//EN\&quot; \&quot;http://www.w3.org/TR/html4/strict.dtd\&quot;&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;A Brand New nanoc Site - &lt;%= @item[:title] %&gt;&lt;/title&gt;\n    &lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;/style.css\&quot; media=\&quot;screen\&quot;&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\&quot;main\&quot;&gt;\n&lt;%= yield %&gt;\n    &lt;/div&gt;\n    &lt;div id=\&quot;sidebar\&quot;&gt;\n      &lt;h2&gt;Documentation&lt;/h2&gt;\n      &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\&quot;http://nanoc.stoneship.org/help/tutorial/\&quot;&gt;Tutorial&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\&quot;http://nanoc.stoneship.org/help/manual/\&quot;&gt;Manual&lt;/a&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n      &lt;h2&gt;Community&lt;/h2&gt;\n      &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\&quot;http://groups.google.com/group/nanoc/\&quot;&gt;Discussion Group&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\&quot;http://groups.google.com/group/nanoc-es/\&quot;&gt;Spanish Discussion Group&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\&quot;http://projects.stoneship.org/trac/nanoc/\&quot;&gt;Wiki&lt;/a&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n&quot;</dd>
    
      <dt id="DEFAULT_STYLESHEET-constant">DEFAULT_STYLESHEET</dt>
      <dd>&quot;* {\n  margin: 0;\n  padding: 0;\n\n  font-family: Georgia, Palatino, Times, 'Times New Roman', sans-serif;\n}\n\nbody {\n  background: #fff;\n}\n\na {\n  text-decoration: none;\n}\n\na:link,\na:visited {\n  color: #f30;\n}\n\na:hover {\n  color: #f90;\n}\n\n#main {\n  position: absolute;\n\n  top: 40px;\n  left: 280px;\n\n  width: 500px;\n}\n\n#main h1 {\n  font-size: 40px;\n  font-weight: normal;\n\n  line-height: 40px;\n\n  letter-spacing: -1px;\n}\n\n#main p {\n  margin: 20px 0;\n  \n  font-size: 15px;\n  \n  line-height: 20px;\n}\n\n#main ul {\n  margin: 20px;\n}\n\n#main li {\n  list-style-type: square;\n\n  font-size: 15px;\n  \n  line-height: 20px;\n}\n\n#sidebar {\n  position: absolute;\n\n  top: 40px;\n  left: 20px;\n  width: 200px;\n\n  padding: 20px 20px 0 0;\n\n  border-right: 1px solid #ccc;\n\n  text-align: right;\n}\n\n#sidebar h2 {\n  text-transform: uppercase;\n\n  font-size: 13px;\n\n  color: #333;\n\n  letter-spacing: 1px;\n\n  line-height: 20px;\n}\n\n#sidebar ul {\n  list-style-type: none;\n\n  margin: 20px 0;\n}\n\n#sidebar li {\n  font-size: 14px;\n\n  line-height: 20px;\n}\n&quot;</dd>
    
  </dl>
</div>

</div>  <div class="section visibilitygroup public">
    <h1>Public Visibility</h1>
      <div class="section methodsummary instance public">
    <h1>Public Instance Method Summary</h1>
<table class="summary">
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#aliases-instance_method" title="#aliases">#aliases</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#long_desc-instance_method" title="#long_desc">#long_desc</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#name-instance_method" title="#name">#name</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#option_definitions-instance_method" title="#option_definitions">#option_definitions</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#run-instance_method" title="#run">#run</a></span><span class='args'>(options, arguments)</span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#short_desc-instance_method" title="#short_desc">#short_desc</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
    <tr>
      <th class="signature">
        
          <span class='overload'>
            <span class='name'><a href="#usage-instance_method" title="#usage">#usage</a></span><span class='args'></span>
            <span class='block'></span>
          </span>
        
        
      </th>
      <td class="docstring">
        
        
      </td>
    </tr>
  
</table>

  </div>
<div class="section methoddetails instance public">
  <h1>Public Instance Method Details</h1>
  
    <div class="method">
      <div class="method_header">
  <h3>aliases</h3>
</div><div id="aliases-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>aliases</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


159
160
161</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 159</span>

<span class='def def kw'>def</span> <span class='aliases identifier id'>aliases</span>
  <span class='lbrack token'>[</span> <span class='string val'>'cs'</span> <span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>long_desc</h3>
</div><div id="long_desc-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>long_desc</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


167
168
169
170
171</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 167</span>

<span class='def def kw'>def</span> <span class='long_desc identifier id'>long_desc</span>
  <span class='string val'>'Create a new site at the given path. The site will use the '</span> <span class='plus op'>+</span>
  <span class='string val'>'filesystem_compact data source by default, but this can be '</span> <span class='plus op'>+</span>
  <span class='string val'>'changed using the --datasource commandline option.'</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>name</h3>
</div><div id="name-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>name</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


155
156
157</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 155</span>

<span class='def def kw'>def</span> <span class='name identifier id'>name</span>
  <span class='string val'>'create_site'</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>option_definitions</h3>
</div><div id="option_definitions-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>option_definitions</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


177
178
179
180
181
182
183
184
185</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 177</span>

<span class='def def kw'>def</span> <span class='option_definitions identifier id'>option_definitions</span>
  <span class='lbrack token'>[</span>
    <span class='comment val'># --datasource</span>
    <span class='lbrace token'>{</span>
      <span class='symbol val'>:long</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'datasource'</span><span class='comma token'>,</span> <span class='symbol val'>:short</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'d'</span><span class='comma token'>,</span> <span class='symbol val'>:argument</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:required</span><span class='comma token'>,</span>
      <span class='symbol val'>:desc</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'specify the data source for the new site'</span>
    <span class='rbrace token'>}</span>
  <span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>run</h3>
</div><div id="run-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>run</span><span class='args'>(options, arguments)</span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 187</span>

<span class='def def kw'>def</span> <span class='run identifier id'>run</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='arguments identifier id'>arguments</span><span class='rparen token'>)</span>
  <span class='comment val'># Check arguments</span>
  <span class='if if kw'>if</span> <span class='arguments identifier id'>arguments</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='neq op'>!=</span> <span class='integer val'>1</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;usage: #{usage}&quot;</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Extract arguments and options</span>
  <span class='path identifier id'>path</span>        <span class='assign token'>=</span> <span class='arguments identifier id'>arguments</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
  <span class='data_source identifier id'>data_source</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:datasource</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>'filesystem_compact'</span>

  <span class='comment val'># Check whether site exists</span>
  <span class='if if kw'>if</span> <span class='File constant id'>File</span><span class='dot token'>.</span><span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;A site at '#{path}' already exists.&quot;</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Check whether data source exists</span>
  <span class='if if kw'>if</span> <span class='Nanoc3 constant id'>Nanoc3</span><span class='colon2 op'>::</span><span class='DataSource constant id'>DataSource</span><span class='dot token'>.</span><span class='named identifier id'>named</span><span class='lparen token'>(</span><span class='data_source identifier id'>data_source</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Unrecognised data source: #{data_source}&quot;</span>
    <span class='exit identifier id'>exit</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Setup notifications</span>
  <span class='Nanoc3 constant id'>Nanoc3</span><span class='colon2 op'>::</span><span class='NotificationCenter constant id'>NotificationCenter</span><span class='dot token'>.</span><span class='on identifier id'>on</span><span class='lparen token'>(</span><span class='symbol val'>:file_created</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='file_path identifier id'>file_path</span><span class='bitor op'>|</span>
    <span class='Nanoc3 constant id'>Nanoc3</span><span class='colon2 op'>::</span><span class='CLI constant id'>CLI</span><span class='colon2 op'>::</span><span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='instance identifier id'>instance</span><span class='dot token'>.</span><span class='file identifier id'>file</span><span class='lparen token'>(</span><span class='symbol val'>:high</span><span class='comma token'>,</span> <span class='symbol val'>:create</span><span class='comma token'>,</span> <span class='file_path identifier id'>file_path</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='comment val'># Build entire site</span>
  <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='mkdir_p identifier id'>mkdir_p</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='FileUtils constant id'>FileUtils</span><span class='dot token'>.</span><span class='cd identifier id'>cd</span><span class='lparen token'>(</span><span class='File constant id'>File</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='path identifier id'>path</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
    <span class='site_create_minimal identifier id'>site_create_minimal</span><span class='lparen token'>(</span><span class='data_source identifier id'>data_source</span><span class='rparen token'>)</span>
    <span class='site_setup identifier id'>site_setup</span>
    <span class='site_populate identifier id'>site_populate</span>
  <span class='end end kw'>end</span>

  <span class='puts identifier id'>puts</span> <span class='dstring node'>&quot;Created a blank nanoc site at '#{path}'. Enjoy!&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>short_desc</h3>
</div><div id="short_desc-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>short_desc</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


163
164
165</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 163</span>

<span class='def def kw'>def</span> <span class='short_desc identifier id'>short_desc</span>
  <span class='string val'>'create a site'</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
    <div class="method">
      <div class="method_header">
  <h3>usage</h3>
</div><div id="usage-instance_method" class="section method">
  <div class="details_title">
    <div class='section methodsignature'>
    <tt class='def'>
      <span class='visibility'>public</span>
      <span class='return_types'></span>
      <span class='name'>usage</span><span class='args'></span>
      <span class='block'></span>
    </tt>
  </div>

</div><div class="section source">
  <span>[<a class="source_link" href="#">View source</a>]</span>
  <div class="source_code">
    <table>
      <tr>
        <td>
          <pre class="lines">


173
174
175</pre>
        </td>
        <td>
          <pre class="code"><span class="info file"># File 'lib/nanoc3/cli/commands/create_site.rb', line 173</span>

<span class='def def kw'>def</span> <span class='usage identifier id'>usage</span>
  <span class='string val'>&quot;nanoc3 create_site [path]&quot;</span>
<span class='end end kw'>end</span>
</pre>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
    </div>
  
</div>
  </div>

</div>
    </div>
    <div id="yard_info">
  Generated on Sunday, August 09 2009 at 01:43:13 PM by 
  <abbr class="yard" title="Yay! A Ruby Documentation Tool"><a href="http://yard.soen.ca">YARD</a></abbr> 
  0.2.3.2 (ruby-1.8.7).
</div>

  </body>
</html>