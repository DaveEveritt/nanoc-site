<h2><span>Release Notes</span></h2>

<div class="section last" id="v2.2.2">
	<h3><span>2.2.2</span></h3>

	<ul>
		<li>Removed relativize_paths filter; use <code>relativize_paths_in_html</code> or <code>relativize_paths_in_css</code> instead</li>
		<li>Fixed bug which could cause nanoc to eat massive amounts of memory when an exception occurs</li>
		<li>Fixed bug which would cause nanoc to complain about the open file limit being reached when using a large amount of assets</li>
	</ul>
</div>

<div class="section" id="v2.2.1">
	<h3><span>2.2.1</span></h3>

	<ul>
		<li>Fixed bug which prevented <code>relative_path_to</code> from working</li>
		<li>Split <code>relativize_paths</code> filter into <code>relativize_paths_in_html</code> and <code>relativize_paths_in_css</code></li>
		<li>Removed bundled mime-types library</li>
	</ul>
</div>

<div class="section" id="v2.2">
	<h3><span>2.2</span></h3>

	<ul class="nested">
		<li>New features
			<ul>
				<li><kbd>--pages</kbd> and <kbd>--assets</kbd> compiler options</li>
				<li><kbd>--no-color</kbd> commandline option</li>
				<li><code>Filtering</code> helper</li>
				<li><code>relative_path_to</code> function in <code>LinkTo</code> helper</li>
				<li><code>Rainpress</code> filter</li>
				<li><code>RelativizePaths</code> filter</li>
				<li>The current layout is now accessible through the <code>@layout</code> variable</li>
				<li>Much more informative stack traces when something goes wrong</li>
			</ul>
		</li>
		<li>Changed
			<ul>
				<li>The commandline option parser is now a lot more reliable</li>
				<li>atom_feed now takes optional <code>:content_proc</code>, <code>:excerpt_proc</code> and <code>:articles</code> parameters</li>
				<li>The compile command show non-written items (those with <code>skip_output: true</code>)</li>
				<li>The compile command compiles everything by default</li>
				<li>Added <kbd>--only-outdated</kbd> option to compile only outdated pages</li>
			</ul>
		</li>
		<li>Removed
			<ul>
				<li>Deprecated extension-based code</li>
			</ul>
		</li>
	</ul>
</div>

<div class="section" id="v2.1.6">
	<h3><span>2.1.6</span></h3>

	<ul>
		<li>The <code>FilesystemCombined</code> data source now supports empty metadata sections</li>
		<li>The RDoc filter now works for both RDoc 1.x and 2.x</li>
		<li>The autocompiler now serves a 500 when an exception occurs outside compilation</li>
		<li>The autocompiler no longer serves index files when the request path does not end with a slash</li>
		<li>The autocompiler now always serves asset content correctly</li>
	</ul>
</div>

<div class="section" id="v2.1.5">
	<h3><span>2.1.5</span></h3>

	<ul>
		<li>Added Ruby 1.9 compatibility</li>
		<li>The <code>Filesystem</code> and <code>FilesystemCombined</code> data sources now preserve custom extensions</li>
	</ul>
</div>

<div class="section" id="v2.1.4">
	<h3><span>2.1.4</span></h3>

	<ul>
		<li>Fixed an issue where the autocompiler in Windows would serve broken assets</li>
	</ul>
</div>

<div class="section" id="v2.1.3">
	<h3><span>2.1.3</span></h3>

	<ul>
		<li>The Haml and Sass filters now correctly take their options from assets</li>
		<li>Autocompiler now serves index files instead of 404s</li>
		<li>Layouts named "index" are now handled correctly</li>
		<li><code>filesystem_combined</code> now properly handles assets</li>
	</ul>
</div>

<div class="section" id="v2.1.2">
	<h3><span>2.1.2</span></h3>

	<ul>
		<li>Autocompiler now compiles assets as well</li>
		<li>Sass filter now takes options (just like the Haml filter)</li>
		<li>Haml/Sass options are now taken from the page <em>rep</em> instead of the page</li>
	</ul>
</div>

<div class="section" id="v2.1.1">
	<h3><span>2.1.1</span></h3>

	<ul>
		<li>Fixed issue which would cause files not to be required in the right order</li>
	</ul>
</div>

<div class="section" id="v2.1">
	<h3><span>2.1</span></h3>

	<ul class="nested">
		<li>New features
			<ul>
				<li>Asset compilation</li>
				<li>Multiple representations</li>
				<li>Routers</li>
				<li>A better commandline frontend</li>
				<li>New filters: discount, maruku, erubis</li>
				<li>Greatly improved source code documentation</li>
				<li>A new "filesystem_combined" data source</li>
				<li>Page and layout mtimes can now be retrieved through page.mtime or layout.mtime</li>
			</ul>
		</li>
		<li>Changed
			<ul>
				<li>Layout processors have been merged into filters</li>
				<li>Layouts no longer rely on file extensions</li>
				<li>Already compiled pages won't be recompiled unless changed</li>
			</ul>
		</li>
		<li>Removed
			<ul>
				<li>Several filters have been replaced by newer ones</li>
			</ul>
		</li>
	</ul>

	<p>For details on the large number of changes in nanoc 2.1, please check the articles in the <i>What's New in nanoc 2.1</i> series on <a href="/blog/">the blog</a>.</p>
</div>

<div class="section" id="v2.0.4">
	<h3><span>2.0.4</span></h3>

	<ul>
		<li>Fixed default.rb's <code>html_escape</code></li>
		<li>Updated Haml filter and layout processor so that <code>@page</code>, <code>@pages</code> and <code>@config</code> are now available as instance variables as well as local variables</li>
	</ul>
</div>

<div class="section" id="v2.0.3">
	<h3><span>2.0.3</span></h3>

	<ul>
		<li>Autocompiler now honors custom paths</li>
		<li>Autocompiler now serves files with the correct MIME type</li>
	</ul>
</div>

<div class="section" id="v2.0.2">
	<h3><span>2.0.2</span></h3>

	<ul>
		<li>nanoc now requires Ruby 1.8.5 instead of 1.8.6</li>
	</ul>
</div>

<div class="section" id="v2.0.1">
	<h3><span>2.0.1</span></h3>

	<ul>
		<li>Fixed a "too many open files" error that could appear during (auto)compiling</li>
	</ul>
</div>

<div class="section" id="v2.0">
	<h3><span>2.0</span></h3>

	<ul class="nested">
		<li>New features
			<ul>
				<li>Support for custom layout processors</li>
				<li>Support for custom data sources, as well as a database data source</li>
				<li>Auto-compiler</li>
				<li><code>parent</code> and <code>children</code> links for pages</li>
			</ul>
		</li>
		<li>Changed
			<ul>
				<li>Filters are defined in a different way now</li>
				<li>The 'eruby' filter now uses ERB instead of Erubis</li>
				<li>The source code for nanoc 2.0 has been restructured a great deal</li>
				<li>Templates are no longer run through ERB when creating a page</li>
			</ul>
		</li>
		<li>Removed
			<ul>
				<li>The <code>filters</code> property&mdash;use <code>filters_pre</code> instead</li>
				<li>Support for Liquid</li>
			</ul>
		</li>
	</ul>

	<p>For details on the changes in nanoc 2.0, please check <a href="/blog/">the blog</a> for details.</p>
</div>

<div class="section" id="v1.6.2">
	<h3><span>1.6.2</span></h3>

	<ul>
		<li>Fixed an issue which prevented the content capturing plugin from working</li>
	</ul>
</div>

<div class="section" id="v1.6.1">
	<h3><span>1.6.1</span></h3>

	<ul>
		<li>Removed a stray debug message</li>
	</ul>
</div>

<div class="section" id="v1.6">
	<h3><span>1.6</span></h3>

	<ul>
		<li>Added support for post-layout filters</li>
		<li>Added support for getting a File object for a page, e.g. <code>@page.file.mtime</code></li>
		<li>Cleaned up the source code a lot</li>
		<li>Removed deprecated asset-copying functionality</li>
	</ul>
</div>

<div class="section" id="v1.5">
	<h3><span>1.5</span></h3>

	<ul>
		<li>Added support for custom filters</li>
		<li>Improved Liquid support—Liquid is now a first-class nanoc citizen</li>
		<li>Deprecated assets—use something like rsync instead</li>
		<li>Added <code>eruby_engine</code> option, which can be <code>erb</code> (default) or <code>erubis</code></li>
	</ul>
</div>

<div class="section" id="v1.4">
	<h3><span>1.4</span></h3>

	<ul>
		<li>nanoc now supports ERB (as well as Erubis); Erubis no longer is a dependency</li>
		<li><span class="path">meta.yaml</span> can now have <code>haml_options</code> property, which is passed to Haml</li>
		<li>Pages can now have a <code>filename</code> property, which defaults to "index" [Dennis Sutch]</li>
		<li>Page dependencies are now managed automatically [Dennis Sutch]</li>
	</ul>

	<p>You can safely remove all <code>order</code> properties from all meta files, since nanoc now figures page dependencies automatically.</p>
</div>

<div class="section" id="v1.3.1">
	<h3><span>1.3.1</span></h3>

	<ul>
		<li>The contents of the <span class="path">assets</span> directory are now copied into the output directory specified in <span class="path">config.yaml</span>.</li>
	</ul>
</div>

<div class="section" id="v1.3">
	<h3><span>1.3</span></h3>

	<ul>
		<li>The <code>@pages</code> array now also contains uncompiled pages</li>
		<li>Pages with <code>skip_output</code> set to <code>true</code> will not be outputted</li>
		<li>Added Textile/RedCloth and Sass filters</li>
		<li>nanoc now warns before overwriting in <kbd>create_site</kbd>, <kbd>create_page</kbd> and <kbd>create_template</kbd></li>
	</ul>
</div>

<div class="section" id="v1.2">
	<h3><span>1.2</span></h3>

	<ul>
		<li>Sites now have an <span class="path">assets</span> directory, whose contents are copied to the output directory [Soryu]</li>
		<li>Added support for non-eRuby layouts (Markaby, Haml, Liquid)</li>
		<li>Added more filters (Markaby, Haml, Liquid, RDoc [Dmitry Bilunov])</li>
		<li>Improved error reporting</li>
		<li>Accessing page attributes using instance variables, and not through <code>@page</code>, is no longer possible</li>
		<li>Page attributes can now be accessed using dot notation, i.e. <code>@page.title</code> as well as <code>@page[:title]</code></li>
	</ul>
</div>

<div class="section" id="v1.1.3">
	<h3><span>1.1.3</span></h3>

	<ul>
		<li>Fixed bug which would cause pages without layouts to be outputed incorrectly</li>
	</ul>
</div>

<div class="section" id="v1.1.2">
	<h3><span>1.1.2</span></h3>

	<ul>
		<li>Backup files (files ending with a “~”) are now ignored</li>
		<li>Fixed bug which would cause subpages not to be generated correctly</li>
	</ul>
</div>

<div class="section" id="v1.1">
	<h3><span>1.1</span></h3>

	<ul>
		<li>Added support for nested layouts</li>
		<li>Added coloured logging</li>
		<li><code>@page</code> now hold the page that is currently being processed</li>
		<li>Index files are now called “content” files and are now named after the directory they are in [Colin Barrett]</li>
		<li>It is now possible to access <code>@page</code> in the page’s content file</li>
	</ul>
</div>

<div class="section" id="v1.0.1">
	<h3><span>1.0.1</span></h3>

	<ul>
		<li>Fixed a bug which would cause an erroneous “no such template” error to be displayed</li>
		<li>Fixed bug which would cause pages not to be sorted by order before compiling</li>
	</ul>
</div>

<div class="section" id="v1.0">
	<h3><span>1.0</span></h3>

	<ul>
		<li>Initial release</li>
	</ul>
</div>
